(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),o=t.n(u),i=t(12),c=t(2),l=function(e){var n=e.name,t=e.number,a=e.remove;return r.a.createElement("li",null,n," ",t,r.a.createElement("button",{onClick:a},"Poista"))},m=function(e){var n=e.persons,t=e.showAll,a=e.limit,u=e.removePerson;return(t?n:n.filter(function(e){return e.name.startsWith(a)})).map(function(e){return r.a.createElement(l,{key:e.id,id:e.id,name:e.name,number:e.number,remove:function(){return u(e.id)}})})},s=function(e){var n=e.newPerson,t=e.handleNameChange,a=e.handleNumberChange,u=e.addPerson;return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n.name,onChange:t})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:n.number,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},d=function(e){var n=e.handleSearchCriteriaChanged,t=e.limit;return r.a.createElement("div",null,"rajaa hakua:",r.a.createElement("input",{value:t,onChange:n}))},f=t(3),b=t.n(f),h="/api/persons",v=function(){return b.a.get(h).then(function(e){return e.data})},g=function(e){return b.a.post(h,e).then(function(e){return e.data})},E=function(e){return b.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},p=function(e){return b.a.delete("".concat(h,"/").concat(e))},j=function(e){var n=e.message,t=e.category;if(null===n)return null;var a={color:"error"===t?"red":"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return r.a.createElement("div",{style:a},n)},w=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)({name:"",number:""}),l=Object(c.a)(o,2),f=l[0],b=l[1],h=Object(a.useState)(!0),w=Object(c.a)(h,2),O=w[0],C=w[1],k=Object(a.useState)(""),S=Object(c.a)(k,2),P=S[0],y=S[1],N=Object(a.useState)(null),T=Object(c.a)(N,2),A=T[0],B=T[1],H=Object(a.useState)(null),J=Object(c.a)(H,2),x=J[0],z=J[1];Object(a.useEffect)(function(){v().then(function(e){u(e)})},[]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(j,{category:x,message:A}),r.a.createElement(d,{limit:P,handleSearchCriteriaChanged:function(e){e.target.value.length>0?C(!1):C(!0),y(e.target.value)}})),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(s,{addPerson:function(e){e.preventDefault();var n={name:f.name,number:f.number},a=t.find(function(e){return e.name===f.name});a?window.confirm("".concat(f.name," on jo luettelossa, korvataanko vanha numero uudella"))&&E(Object(i.a)({},a,{number:f.number})).then(function(e){u(t.map(function(n){return n.name===f.name?e:n})),b({number:"",name:""}),y(""),z("info"),B("Henkil\xf6n ".concat(f.name," numero muutettu")),setTimeout(B,2e3,null)}):(g(n).then(function(e){u(t.concat(e)),b({name:"",number:""}),y("")}).catch(function(e){console.log(e.response.data.error),z("error"),B(e.response.data.error),setTimeout(B,2e3,null)}),z("info"),B("".concat(f.name," lis\xe4ttiin onnistuneesti")),setTimeout(B,2e3,null))},handleNameChange:function(e){b({number:f.number,name:e.target.value})},handleNumberChange:function(e){b({number:e.target.value,name:f.name})},newPerson:f}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(m,{persons:t,showAll:O,limit:P,removePerson:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Haluatko varmasti henkil\xf6n ".concat(n.name," tiedot"),"Peruuta")&&p(e).then(function(){u(t.filter(function(n){return n.id!==e}))}).catch(function(a){z("error"),B("".concat(n.name," on jo poistettu")),setTimeout(B,2e3,null),u(t.filter(function(n){return n.id!==e}))})}}))};o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.afe3aca8.chunk.js.map