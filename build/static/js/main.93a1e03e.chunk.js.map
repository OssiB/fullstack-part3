{"version":3,"sources":["components/Person.js","components/Persons.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","remove","react_default","a","createElement","onClick","Persons","persons","showAll","limit","removePerson","filter","person","startsWith","map","components_Person","key","id","AddPerson","newPerson","handleNameChange","handleNumberChange","addPerson","onSubmit","value","onChange","type","Filter","handleSearchCriteriaChanged","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","Notification","message","category","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewPerson","_useState5","_useState6","setShowAll","_useState7","_useState8","setLimit","_useState9","_useState10","setMessage","_useState11","_useState12","setCategory","useEffect","personService","components_Filter","event","target","length","components_Notification","components_AddPerson","preventDefault","personObject","includes","setTimeout","components_Persons","removedPerson","find","window","confirm","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.93a1e03e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name,number,remove }) => {\n  return (\n    <li>{name} {number}\n    <button onClick={remove}>Poista</button>                   \n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, showAll, limit,removePerson }) => {\n    const personsToShow = showAll\n        ? persons\n        : persons.filter(person => person.name.startsWith(limit))\n\n    return personsToShow.map(person =>\n        <Person\n            key={person.name}\n            id = {person.id}\n            name={person.name}\n            number={person.number}\n            remove = {() => removePerson(person.id)}\n        />)\n}\nexport default Persons\n","import React from 'react'\n\nconst AddPerson = ({newPerson, handleNameChange, handleNumberChange, addPerson }) => {\n    return (\n    <form onSubmit={addPerson}>\n        <div>nimi: <input\n            value={newPerson.name}\n            onChange={handleNameChange} />\n        </div>\n        <div>numero:\n                     <input\n                value={newPerson.number}\n                onChange={handleNumberChange}\n            />\n        </div>\n        <div><button type=\"submit\" >lisää</button>\n        </div>\n    </form>\n    )\n}\nexport default AddPerson\n","import React from 'react'\n\nconst Filter = ({ handleSearchCriteriaChanged,limit }) => {\n    return (\n        <div>rajaa hakua:\n    <input\n                value={limit}\n                onChange={handleSearchCriteriaChanged}\n            />\n        </div>\n    )\n}\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}` )\n}\nexport default { \n  getAll, \n  create, \n  update,\n  remove\n}","import React from 'react'\nconst Notification = ({ message,category }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={category}>\n        {message}\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport AddPerson from './components/AddPerson'\r\nimport Filter from './components/Filter';\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n\r\n    const [newPerson, setNewPerson] = useState({ name: '', number: '' })\r\n    const [showAll, setShowAll] = useState(true)\r\n    const [limit, setLimit] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n    const [category, setCategory] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const personObject = {\r\n            name: newPerson.name,\r\n            number: newPerson.number,\r\n        }\r\n\r\n        if (persons.map(person => person.name).includes(newPerson.name)) {\r\n            setCategory('error')\r\n            setMessage(`${newPerson.name} on jo luettelossa`)\r\n            setTimeout(setMessage, 2000, null)\r\n        }\r\n    \r\n        else {\r\n            personService\r\n                .create(personObject)\r\n                .then(person => {\r\n                    setPersons(persons.concat(person))\r\n                    setNewPerson({ name: '', number: '' })\r\n                    setLimit('')\r\n                })\r\n            setCategory('info')\r\n            setMessage(`${newPerson.name} lisättiin onnistuneesti`)\r\n            setTimeout(setMessage, 2000, null)\r\n        }\r\n    }\r\n    const removePerson = id => {\r\n        const removedPerson = persons.find(person => person.id === id)\r\n        if (window.confirm(`Haluatko varmasti henkilön ${removedPerson.name} tiedot`, 'Peruuta')) {\r\n            personService\r\n                .remove(id)\r\n                .then(() => {\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                })\r\n                .catch(error => {\r\n                   setCategory('error')\r\n                   setMessage(`${removedPerson.name} on jo poistettu`)\r\n                   setPersons(persons.filter(person => person.id !== id)) \r\n                })\r\n        }\r\n        return\r\n\r\n    }\r\n    const handleNameChange = (event) => {\r\n        setNewPerson({ number: newPerson.number, name: event.target.value })\r\n    }\r\n    const handleSearchCriteriaChanged = (event) => {\r\n        if (event.target.value.length > 0) {\r\n            setShowAll(false)\r\n        }\r\n        else {\r\n            setShowAll(true)\r\n        }\r\n        setLimit(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        setNewPerson({ number: event.target.value, name: newPerson.name })\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h2>Puhelinluettelo</h2>\r\n                <Filter\r\n                    limit={limit}\r\n                    handleSearchCriteriaChanged={handleSearchCriteriaChanged}\r\n                />\r\n            </div>\r\n            <Notification category={category} message={message} />\r\n            <AddPerson\r\n                addPerson={addPerson}\r\n                handleNameChange={handleNameChange}\r\n                handleNumberChange={handleNumberChange}\r\n                newPerson={newPerson}\r\n            />\r\n            <h2>Numerot</h2>\r\n            <Persons\r\n                persons={persons}\r\n                showAll={showAll}\r\n                limit={limit}\r\n                removePerson={removePerson} />\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'))\r\n"],"sourceRoot":""}