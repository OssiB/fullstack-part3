{"version":3,"sources":["components/Person.js","components/Persons.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","remove","react_default","a","createElement","onClick","Persons","persons","showAll","limit","removePerson","filter","person","startsWith","map","components_Person","key","id","AddPerson","newPerson","handleNameChange","handleNumberChange","addPerson","onSubmit","value","onChange","type","Filter","handleSearchCriteriaChanged","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","category","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewPerson","_useState5","_useState6","setShowAll","_useState7","_useState8","setLimit","_useState9","_useState10","setMessage","_useState11","_useState12","setCategory","useEffect","personService","components_Notification","components_Filter","event","target","length","components_AddPerson","preventDefault","personObject","existingPerson","find","p","window","confirm","objectSpread","replacedPerson","setTimeout","catch","error","console","log","components_Persons","removedPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.afe3aca8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name,number,remove }) => {\n  return (\n    <li>{name} {number}\n    <button onClick={remove}>Poista</button>                   \n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, showAll, limit,removePerson }) => {\n    const personsToShow = showAll\n        ? persons\n        : persons.filter(person => person.name.startsWith(limit))\n\n    return personsToShow.map(person =>\n        <Person\n            key={person.id}\n            id = {person.id}\n            name={person.name}\n            number={person.number}\n            remove = {() => removePerson(person.id)}\n        />)\n}\nexport default Persons\n","import React from 'react'\n\nconst AddPerson = ({newPerson, handleNameChange, handleNumberChange, addPerson }) => {\n    return (\n    <form onSubmit={addPerson}>\n        <div>nimi: <input\n            value={newPerson.name}\n            onChange={handleNameChange} />\n        </div>\n        <div>numero:\n                     <input\n                value={newPerson.number}\n                onChange={handleNumberChange}\n            />\n        </div>\n        <div><button type=\"submit\" >lisää</button>\n        </div>\n    </form>\n    )\n}\nexport default AddPerson\n","import React from 'react'\n\nconst Filter = ({ handleSearchCriteriaChanged,limit }) => {\n    return (\n        <div>rajaa hakua:\n    <input\n                value={limit}\n                onChange={handleSearchCriteriaChanged}\n            />\n        </div>\n    )\n}\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (person) => {\n  const request = axios.put(`${baseUrl}/${person.id}`, person)\n  return request.then(response => response.data)\n}\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}` )\n}\nexport default { \n  getAll, \n  create, \n  update,\n  remove\n}","import React from 'react'\nconst Notification = ({ message,category }) => {\n    \n    if (message === null) {\n      return null\n    }\n    const style = {\n      color: category === 'error' ? 'red' : 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n    return (\n      <div style = { style} >\n        {message}\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport AddPerson from './components/AddPerson'\r\nimport Filter from './components/Filter';\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n\r\n    const [newPerson, setNewPerson] = useState({ name: '', number: '' })\r\n    const [showAll, setShowAll] = useState(true)\r\n    const [limit, setLimit] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n    const [category, setCategory] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const personObject = {\r\n            name: newPerson.name,\r\n            number: newPerson.number,\r\n        }\r\n        const existingPerson = persons.find(p => p.name === newPerson.name)\r\n        if (existingPerson) {\r\n            const ok = window.confirm(`${newPerson.name} on jo luettelossa, korvataanko vanha numero uudella`)\r\n            if (ok) {\r\n                personService\r\n                    .update({\r\n                        ...existingPerson,\r\n                        number: newPerson.number\r\n                    })\r\n                    .then(replacedPerson => {\r\n                        setPersons(persons.map(p => p.name === newPerson.name ? replacedPerson : p))\r\n                        setNewPerson({ number: '', name: '' })\r\n                        setLimit('')\r\n                        setCategory('info')\r\n                        setMessage(`Henkilön ${newPerson.name} numero muutettu`)\r\n                        setTimeout(setMessage, 2000, null)\r\n                    })\r\n            }\r\n        }\r\n\r\n        else {\r\n            personService\r\n                .create(personObject)\r\n                .then(person => {\r\n                    setPersons(persons.concat(person))\r\n                    setNewPerson({ name: '', number: '' })\r\n                    setLimit('')\r\n                })\r\n                .catch(error => {\r\n                    console.log(error.response.data.error)\r\n                    setCategory('error')\r\n                    setMessage(error.response.data.error)\r\n                    setTimeout(setMessage, 2000, null)\r\n                })\r\n            setCategory('info')\r\n            setMessage(`${newPerson.name} lisättiin onnistuneesti`)\r\n            setTimeout(setMessage, 2000, null)\r\n        }\r\n    }\r\n    const removePerson = id => {\r\n        const removedPerson = persons.find(person => person.id === id)\r\n        if (window.confirm(`Haluatko varmasti henkilön ${removedPerson.name} tiedot`, 'Peruuta')) {\r\n            personService\r\n                .remove(id)\r\n                .then(() => {\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                })\r\n                .catch(error => {\r\n                    setCategory('error')\r\n                    setMessage(`${removedPerson.name} on jo poistettu`)\r\n                    setTimeout(setMessage, 2000, null)\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                })\r\n        }\r\n\r\n    }\r\n    const handleNameChange = (event) => {\r\n        setNewPerson({ number: newPerson.number, name: event.target.value })\r\n    }\r\n    const handleSearchCriteriaChanged = (event) => {\r\n        if (event.target.value.length > 0) {\r\n            setShowAll(false)\r\n        }\r\n        else {\r\n            setShowAll(true)\r\n        }\r\n        setLimit(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        setNewPerson({ number: event.target.value, name: newPerson.name })\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h2>Puhelinluettelo</h2>\r\n                <Notification category={category} message={message} />\r\n                <Filter\r\n                    limit={limit}\r\n                    handleSearchCriteriaChanged={handleSearchCriteriaChanged}\r\n                />\r\n            </div>\r\n\r\n            <h2>Lisää uusi</h2>\r\n            <AddPerson\r\n                addPerson={addPerson}\r\n                handleNameChange={handleNameChange}\r\n                handleNumberChange={handleNumberChange}\r\n                newPerson={newPerson}\r\n            />\r\n            <h2>Numerot</h2>\r\n            <Persons\r\n                persons={persons}\r\n                showAll={showAll}\r\n                limit={limit}\r\n                removePerson={removePerson} />\r\n        </div >\r\n    )\r\n\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'))\r\n"],"sourceRoot":""}