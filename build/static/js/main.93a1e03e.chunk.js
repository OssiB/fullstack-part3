(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),l=t.n(u),c=t(2),i=function(e){var n=e.name,t=e.number,a=e.remove;return r.a.createElement("li",null,n," ",t,r.a.createElement("button",{onClick:a},"Poista"))},o=function(e){var n=e.persons,t=e.showAll,a=e.limit,u=e.removePerson;return(t?n:n.filter(function(e){return e.name.startsWith(a)})).map(function(e){return r.a.createElement(i,{key:e.name,id:e.id,name:e.name,number:e.number,remove:function(){return u(e.id)}})})},m=function(e){var n=e.newPerson,t=e.handleNameChange,a=e.handleNumberChange,u=e.addPerson;return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n.name,onChange:t})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:n.number,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=function(e){var n=e.handleSearchCriteriaChanged,t=e.limit;return r.a.createElement("div",null,"rajaa hakua:",r.a.createElement("input",{value:t,onChange:n}))},f=t(3),d=t.n(f),h="/api/persons",b=function(){return d.a.get(h).then(function(e){return e.data})},v=function(e){return d.a.post(h,e).then(function(e){return e.data})},E=function(e){return d.a.delete("".concat(h,"/").concat(e))},g=function(e){var n=e.message,t=e.category;return null===n?null:r.a.createElement("div",{className:t},n)},p=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)({name:"",number:""}),i=Object(c.a)(l,2),f=i[0],d=i[1],h=Object(a.useState)(!0),p=Object(c.a)(h,2),j=p[0],O=p[1],w=Object(a.useState)(""),C=Object(c.a)(w,2),P=C[0],S=C[1],k=Object(a.useState)(null),N=Object(c.a)(k,2),y=N[0],A=N[1],J=Object(a.useState)(null),T=Object(c.a)(J,2),x=T[0],B=T[1];Object(a.useEffect)(function(){b().then(function(e){u(e)})},[]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(s,{limit:P,handleSearchCriteriaChanged:function(e){e.target.value.length>0?O(!1):O(!0),S(e.target.value)}})),r.a.createElement(g,{category:x,message:y}),r.a.createElement(m,{addPerson:function(e){e.preventDefault();var n={name:f.name,number:f.number};t.map(function(e){return e.name}).includes(f.name)?(B("error"),A("".concat(f.name," on jo luettelossa")),setTimeout(A,2e3,null)):(v(n).then(function(e){u(t.concat(e)),d({name:"",number:""}),S("")}),B("info"),A("".concat(f.name," lis\xe4ttiin onnistuneesti")),setTimeout(A,2e3,null))},handleNameChange:function(e){d({number:f.number,name:e.target.value})},handleNumberChange:function(e){d({number:e.target.value,name:f.name})},newPerson:f}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(o,{persons:t,showAll:j,limit:P,removePerson:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Haluatko varmasti henkil\xf6n ".concat(n.name," tiedot"),"Peruuta")&&E(e).then(function(){u(t.filter(function(n){return n.id!==e}))}).catch(function(a){B("error"),A("".concat(n.name," on jo poistettu")),u(t.filter(function(n){return n.id!==e}))})}}))};l.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.93a1e03e.chunk.js.map